---
title: 使用模板
description: 您可以从创建的 RKE 模板或已与您共享的模板创建集群。RKE 模板可以应用于新的集群。从 Rancher v2.3.3 开始，您可以将现有集群的配置保存为 RKE 模板，然后只有更新模板时才能更改集群的设置。不能将集群更改为使用其他 RKE 模板。只能将集群更新为同一模板的新版本。
keywords:
  - rancher 2.0中文文档
  - rancher 2.x 中文文档
  - rancher中文
  - rancher 2.0中文
  - rancher2
  - rancher教程
  - rancher中国
  - rancher 2.0
  - rancher2.0 中文教程
  - 系统管理员指南
  - RKE模板
  - 使用模板
---

创建 RKE 集群时，您可以使用自己创建的 RKE 模板或已[共享的模板](/docs/admin-settings/rke-templates/template-access-and-sharing/_index)创建集群。

从 Rancher v2.3.3 开始，您可以[将现有集群的配置保存为 RKE 模板](#将现有集群转换为使用-rke-模板)，只有更新模板时才能更改集群的设置。使用模板创建集群后，只能将集群更新为同一模板的新版本，不能将集群更改为使用其他 RKE 模板。

## 从 RKE 模板创建集群

要使用 RKE 模板添加[RKE 集群](/docs/cluster-provisioning/rke-clusters/_index)，请使用以下步骤:

1. 从**全局**视图，转到**集群**选项卡。
1. 单击**添加集群**，然后选择基础设施提供商。
1. 像往常一样提供集群名称和节点模板的详细信息。
1. 若要使用 RKE 模板，请在**集群选项**下选中**使用现有的集群模板和修订**框
1. 从下拉菜单中选择现有模板和修订。
1. 可选项：可以编辑创建模板时 RKE 模板所有者标记为**允许用户覆盖**的任何设置。如果有要更改的设置，但没有此选项，则需要与模板所有者联系以获取模板的新版本。然后您需要编辑集群以将其升级到新版本。
1. 单击**保存**启动集群。

## 更新使用 RKE 模板创建的集群

当模板所有者创建模板时，每个设置在 Rancher UI 中都有一个开关，指示用户是否可以覆盖该设置。

- 如果设置允许用户覆盖，则可以通过[编辑集群](/docs/cluster-admin/editing-clusters/_index)更新集群中的这些设置
- 如果该开关处于关闭状态，则除非集群所有者创建了允许您覆盖这些设置的模板修订版，否则无法更改这些设置。如果有要更改的设置，但没有此选项，则需要与模板所有者联系以获取模板的新版本。

如果集群是从 RKE 模板创建的，则可以编辑集群以将集群更新为模板的新版本。

从 Rancher v2.3.3 开始，现有集群的设置可以[保存为 RKE 模板](#将现有集群转换为使用-rke-模板)。在这种情况下，还可以编辑集群以将集群更新为模板的新版本。

> **注意：** 不能将集群更改为使用其他 RKE 模板。只能将集群更新为同一模板的新版本。

## 将现有集群转换为使用 RKE 模板

_从 v2.3.3 开始可用_

RKE 模板不能应用于现有集群，除非将现有集群的设置保存为 RKE 模板。这会将集群的设置导出为新的 RKE 模板，并将集群绑定到该模板。结果是，只有更新模板并将集群升级到新版本的模板时，才能更改集群。

要将现有集群转换为使用 RKE 模板，

1. 在 Rancher 中的**全局**视图中，单击**集群**选项卡。
1. 转到将转换为使用 RKE 模板的集群。单击**省略号(…) > 另存为 RKE 模板**。
1. 在出现的表单中输入模板的名称，然后单击**创建**。

**结果：**

- 将创建一个新的 RKE 模板。
- 将转换集群以使用新模板。
- 可以[从新模板创建新集群](/docs/admin-settings/rke-templates/applying-templates/_index)。
